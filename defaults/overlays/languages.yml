##############################################################################
#                   Audio/Subtitle Language Flags Overlays                   #
#           Created by Yozora, Bullmoose20, Cpt Kuesel, & Sohjiro            #
#          EDITING THIS FILE MAY CAUSE PULLING NEW UPDATES TO FAIL           #
#    https://metamanager.wiki/en/latest/defaults/overlays/languages.html     #
##############################################################################

external_templates:
  pmm: templates
  template_variables:
    conditionals:
      final_align:
        default: left
        conditions:
          - flag_alignment: right
            value: right
      final_text:
        default: <<text>>
        conditions:
          - use_lowercase: true
            value: <<key>>
      final_style:
        default: round
        conditions:
          - style: [square, half]
            value: square
      back_radius:
        conditions:
          - style: [round, half]
            value: 26
          - style: square
            value:
    default:
      style: round
      country: <<key>>
      country_<<key>>: <<country>>
      offset: 10
    queue: flags
    pmm: flag/<<final_style>>/<<country_<<key>>>>
    addon_position: <<final_align>>
    addon_offset: <<offset>>
    back_color: "#00000099"
    back_width: 190
    back_align: <<final_align>>
    font: fonts/Inter-Bold.ttf
    font_size: 50
    final_name: text(<<final_text>>)
    
vars:
  top_left: &top_left           {vertical_align: top,     horizontal_align: left}
  top_center: &top_center       {vertical_align: top,     horizontal_align: center}
  top_right: &top_right         {vertical_align: top,     horizontal_align: right}
  center_left: &center_left     {vertical_align: center,  horizontal_align: left}
  center_center: &center_center {vertical_align: center,  horizontal_align: center}
  center_right: &center_right   {vertical_align: center,  horizontal_align: right}
  bottom_left: &bottom_left     {vertical_align: bottom,  horizontal_align: left}
  bottom_center: &bottom_center {vertical_align: bottom,  horizontal_align: center}
  bottom_right: &bottom_right   {vertical_align: bottom,  horizontal_align: right}
    
  v1: &v1 {vertical_offset: 15}
  v2: &v2 {vertical_offset: 76}
  v3: &v3 {vertical_offset: 137}
  v4: &v4 {vertical_offset: 198}
  v5: &v5 {vertical_offset: 259}

  vc1: &vc1 {vertical_offset: -122}
  vc2: &vc2 {vertical_offset: -61}
  vc3: &vc3 {vertical_offset: 0}
  vc4: &vc4 {vertical_offset: 61}
  vc5: &vc5 {vertical_offset: 122}

  vo1: &vo1 {vertical_offset: 200}
  vo2: &vo2 {vertical_offset: 261}
  vo3: &vo3 {vertical_offset: 322}
  vo4: &vo4 {vertical_offset: 383}
  vo5: &vo5 {vertical_offset: 444}

  vc: &vc   {vertical_offset: 0}
  vct: &vct {vertical_offset: -30}
  vcb: &vcb {vertical_offset: 30}

  h1: &h1 {horizontal_offset: 15}
  h2: &h2 {horizontal_offset: 206}
  h3: &h3 {horizontal_offset: 397}
  h4: &h4 {horizontal_offset: 588}
  h5: &h5 {horizontal_offset: 779}

  hc1: &hc1 {horizontal_offset: 0}
  hc2: &hc2 {horizontal_offset: 191}
  hc3: &hc3 {horizontal_offset: -191}
  hc4: &hc4 {horizontal_offset: 382}
  hc5: &hc5 {horizontal_offset: -382}

  hc: &hc   {horizontal_offset: 0}
  hcl: &hcl {horizontal_offset: -95}
  hcr: &hcr {horizontal_offset: 95}


queues:
  flags:
    default:
      position: <<group_alignment>>_<<vertical_position>>_<<horizontal_position>>
      horizontal_position: left
      vertical_position: top
      group_alignment: vertical
      overlay_limit: 3

    vertical_top_left:                [<<: [*top_left,      *v1,  *h1 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_off_left:            [<<: [*top_left,      *v1,  *h2 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_center_left:         [<<: [*top_center,    *v1,  *hcl], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_center:              [<<: [*top_center,    *v1,  *hc ], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_center_right:        [<<: [*top_center,    *v1,  *hcr], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_off_right:           [<<: [*top_right,     *v1,  *h2 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_top_right:               [<<: [*top_right,     *v1,  *h1 ], *v2,  *v3,  *v4,  *v5 ]

    vertical_off_top_left:            [<<: [*top_left,      *vo1, *h1 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_off_left:        [<<: [*top_left,      *vo1, *h2 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_center_left:     [<<: [*top_center,    *vo1, *hcl], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_center:          [<<: [*top_center,    *vo1, *hc ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_center_right:    [<<: [*top_center,    *vo1, *hcr], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_off_right:       [<<: [*top_right,     *vo1, *h2 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_top_right:           [<<: [*top_right,     *vo1, *h1 ], *vo2, *vo3, *vo4, *vo5]

    vertical_center_left:             [<<: [*center_left,   *vc1, *h1 ], *vc2, *vc3, *vc4, *vc5]
    vertical_center_off_left:         [<<: [*center_left,   *vc1, *h2 ], *vc2, *vc3, *vc4, *vc5]
    vertical_center_center_left:      [<<: [*center_center, *vc1, *hcl], *vc2, *vc3, *vc4, *vc5]
    vertical_center_center:           [<<: [*center_center, *vc1, *hc ], *vc2, *vc3, *vc4, *vc5]
    vertical_center_center_right:     [<<: [*center_center, *vc1, *hcr], *vc2, *vc3, *vc4, *vc5]
    vertical_center_off_right:        [<<: [*center_right,  *vc1, *h2 ], *vc2, *vc3, *vc4, *vc5]
    vertical_center_right:            [<<: [*center_right,  *vc1, *h1 ], *vc2, *vc3, *vc4, *vc5]

    vertical_off_bottom_left:         [<<: [*bottom_left,   *vo1, *h1 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_off_left:     [<<: [*bottom_left,   *vo1, *h2 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_center_left:  [<<: [*bottom_center, *vo1, *hcl], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_center:       [<<: [*bottom_center, *vo1, *hc ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_center_right: [<<: [*bottom_center, *vo1, *hcr], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_off_right:    [<<: [*bottom_right,  *vo1, *h2 ], *vo2, *vo3, *vo4, *vo5]
    vertical_off_bottom_right:        [<<: [*bottom_right,  *vo1, *h1 ], *vo2, *vo3, *vo4, *vo5]

    vertical_bottom_left:             [<<: [*bottom_left,   *v1,  *h1 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_off_left:         [<<: [*bottom_left,   *v1,  *h2 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_center_left:      [<<: [*bottom_center, *v1,  *hcl], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_center:           [<<: [*bottom_center, *v1,  *hc ], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_center_right:     [<<: [*bottom_center, *v1,  *hcr], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_off_right:        [<<: [*bottom_right,  *v1,  *h2 ], *v2,  *v3,  *v4,  *v5 ]
    vertical_bottom_right:            [<<: [*bottom_right,  *v1,  *h1 ], *v2,  *v3,  *v4,  *v5 ]


    horizontal_top_left:              [<<: [*top_left,      *v1,  *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_top_center:            [<<: [*top_center,    *v1,  *hc ], *hc2, *hc3, *hc4, *hc5]
    horizontal_top_right:             [<<: [*top_right,     *v1,  *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_off_top_left:          [<<: [*top_left,      *vo1, *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_off_top_center:        [<<: [*top_center,    *vo1, *hc ], *hc2, *hc3, *hc4, *hc5]
    horizontal_off_top_right:         [<<: [*top_right,     *vo1, *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_center_top_left:       [<<: [*center_left,   *vct, *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_center_top_center:     [<<: [*center_center, *vct, *hc1], *hc2, *hc3, *hc4, *hc5]
    horizontal_center_top_right:      [<<: [*center_right,  *vct, *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_center_left:           [<<: [*center_left,   *vc,  *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_center_center:         [<<: [*center_center, *vc,  *hc1], *hc2, *hc3, *hc4, *hc5]
    horizontal_center_right:          [<<: [*center_right,  *vc,  *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_center_bottom_left:    [<<: [*center_left,   *vcb, *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_center_bottom_center:  [<<: [*center_center, *vcb, *hc1], *hc2, *hc3, *hc4, *hc5]
    horizontal_center_bottom_right:   [<<: [*center_right,  *vcb, *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_off_bottom_left:       [<<: [*bottom_left,   *vo1, *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_off_bottom_center:     [<<: [*bottom_center, *vo1, *hc ], *hc2, *hc3, *hc4, *hc5]
    horizontal_off_bottom_right:      [<<: [*bottom_right,  *vo1, *h1 ], *h2,  *h3,  *h4,  *h5 ]

    horizontal_bottom_left:           [<<: [*bottom_left,   *v1,  *h1 ], *h2,  *h3,  *h4,  *h5 ]
    horizontal_bottom_center:         [<<: [*bottom_center, *v1,  *hc ], *hc2, *hc3, *hc4, *hc5]
    horizontal_bottom_right:          [<<: [*bottom_right,  *v1,  *h1 ], *h2,  *h3,  *h4,  *h5 ]

templates:
  flags:
    conditionals:
      search_attribute:
        default: audio_language
        conditions:
          - use_subtitles: true
            value: subtitle_language
    ignore_blank_results: true
    plex_search:
      all:
        <<search_attribute>>: <<key>>

overlays:

  english:
    variables: {key: en, text: EN, weight: 610, country: us}
    template: [name: standard, name: flags]

  german:
    variables: {key: de, text: DE, weight: 600}
    template: [name: standard, name: flags]

  french:
    variables: {key: fr, text: FR, weight: 590}
    template: [name: standard, name: flags]

  japanese:
    variables: {key: ja, text: JA, weight: 580, country: jp}
    template: [name: standard, name: flags]

  korean:
    variables: {key: ko, text: KO, weight: 570, country: kr}
    template: [name: standard, name: flags]

  chinese:
    variables: {key: zh, text: ZH, weight: 560, country: cn}
    template: [name: standard, name: flags]

  danish:
    variables: {key: da, text: DA, weight: 550, country: dk}
    template: [name: standard, name: flags]

  russian:
    variables: {key: ru, text: RU, weight: 540}
    template: [name: standard, name: flags]

  spanish:
    variables: {key: es, text: ES, weight: 530}
    template: [name: standard, name: flags]

  italian:
    variables: {key: it, text: IT, weight: 520}
    template: [name: standard, name: flags]

  portuguese:
    variables: {key: pt, text: PT, weight: 510}
    template: [name: standard, name: flags]

  hindi:
    variables: {key: hi, text: HI, weight: 500, country: in}
    template: [name: standard, name: flags]

  telugu:
    variables: {key: te, text: TE, weight: 490, country: in}
    template: [name: standard, name: flags]

  farsi:
    variables: {key: fa, text: FA, weight: 480, country: ir}
    template: [name: standard, name: flags]

  thai:
    variables: {key: th, text: TH, weight: 470}
    template: [name: standard, name: flags]

  dutch:
    variables: {key: nl, text: NL, weight: 460}
    template: [name: standard, name: flags]

  norwegian:
    variables: {key: no, text: NO, weight: 450}
    template: [name: standard, name: flags]

  icelandic:
    variables: {key: is, text: IS, weight: 440}
    template: [name: standard, name: flags]

  swedish:
    variables: {key: sv, text: SV, weight: 430, country: se}
    template: [name: standard, name: flags]

  turkish:
    variables: {key: tr, text: TR, weight: 420}
    template: [name: standard, name: flags]

  polish:
    variables: {key: pl, text: PL, weight: 410}
    template: [name: standard, name: flags]

  czech:
    variables: {key: cs, text: CS, weight: 400, country: cz}
    template: [name: standard, name: flags]

  ukrainian:
    variables: {key: uk, text: UK, weight: 390, country: ua}
    template: [name: standard, name: flags]

  hungarian:
    variables: {key: hu, text: HU, weight: 380}
    template: [name: standard, name: flags]

  arabic:
    variables: {key: ar, text: AR, weight: 370, country: eg}
    template: [name: standard, name: flags]

  bulgarian:
    variables: {key: bg, text: BG, weight: 360}
    template: [name: standard, name: flags]

  bengali:
    variables: {key: bn, text: BN, weight: 350, country: bd}
    template: [name: standard, name: flags]

  bosnian:
    variables: {key: bs, text: BS, weight: 340, country: ba}
    template: [name: standard, name: flags]

  catalan:
    variables: {key: ca, text: CA, weight: 330, country: es}
    template: [name: standard, name: flags]

  welsh:
    variables: {key: cy, text: CY, weight: 320, country: uk}
    template: [name: standard, name: flags]

  greek:
    variables: {key: el, text: EL, weight: 310, country: gr}
    template: [name: standard, name: flags]

  estonian:
    variables: {key: et, text: ET, weight: 300, country: ee}
    template: [name: standard, name: flags]

  basque:
    variables: {key: eu, text: EU, weight: 290, country: es}
    template: [name: standard, name: flags]

  finnish:
    variables: {key: fi, text: FI, weight: 280}
    template: [name: standard, name: flags]

  filipino:
    variables: {key: fl, text: FL, weight: 270, country: ph}
    template: [name: standard, name: flags]

  galician:
    variables: {key: gl, text: GL, weight: 260, country: es}
    template: [name: standard, name: flags]

  hebrew:
    variables: {key: he, text: HE, weight: 250, country: il}
    template: [name: standard, name: flags]

  croatian:
    variables: {key: hr, text: HR, weight: 240}
    template: [name: standard, name: flags]

  indonesian:
    variables: {key: id, text: ID, weight: 230}
    template: [name: standard, name: flags]

  georgian:
    variables: {key: ka, text: KA, weight: 220, country: ge}
    template: [name: standard, name: flags]

  kazakh:
    variables: {key: kk, text: KK, weight: 210, country: kz}
    template: [name: standard, name: flags]

  kannada:
    variables: {key: kn, text: KN, weight: 200, country: in}
    template: [name: standard, name: flags]

  latin:
    variables: {key: la, text: LA, weight: 190, country: it}
    template: [name: standard, name: flags]

  lithuanian:
    variables: {key: lt, text: LT, weight: 180}
    template: [name: standard, name: flags]

  latvian:
    variables: {key: lv, text: LV, weight: 170}
    template: [name: standard, name: flags]

  macedonian:
    variables: {key: mk, text: MK, weight: 160}
    template: [name: standard, name: flags]

  malayalam:
    variables: {key: ml, text: ML, weight: 150, country: in}
    template: [name: standard, name: flags]

  marathi:
    variables: {key: mr, text: MR, weight: 140, country: in}
    template: [name: standard, name: flags]

  malay:
    variables: {key: ms, text: MS, weight: 130, country: my}
    template: [name: standard, name: flags]

  norwegian bokmål:
    variables: {key: nb, text: NB, weight: 120, country: no}
    template: [name: standard, name: flags]

  norwegian nynorsk:
    variables: {key: nn, text: NN, weight: 110, country: no}
    template: [name: standard, name: flags]

  punjabi:
    variables: {key: pa, text: PA, weight: 100, country: in}
    template: [name: standard, name: flags]

  romanian:
    variables: {key: ro, text: RO, weight: 90}
    template: [name: standard, name: flags]

  slovak:
    variables: {key: sk, text: SK, weight: 80}
    template: [name: standard, name: flags]

  slovenian:
    variables: {key: sv, text: SV, weight: 70, country: si}
    template: [name: standard, name: flags]

  albanian:
    variables: {key: sq, text: SQ, weight: 60, country: al}
    template: [name: standard, name: flags]

  serbian:
    variables: {key: sr, text: SR, weight: 50, country: rs}
    template: [name: standard, name: flags]

  swahili:
    variables: {key: sw, text: SW, weight: 40, country: tz}
    template: [name: standard, name: flags]

  tamil:
    variables: {key: ta, text: TA, weight: 30, country: in}
    template: [name: standard, name: flags]

  urdu:
    variables: {key: ur, text: UR, weight: 20, country: pk}
    template: [name: standard, name: flags]

  vietnamese:
    variables: {key: vi, text: VI, weight: 10, country: vn}
    template: [name: standard, name: flags]
